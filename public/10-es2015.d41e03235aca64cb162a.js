(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{vYxI:function(e,t,r){"use strict";r.r(t),r.d(t,"DoctorsModule",(function(){return g}));var s=r("ofXK"),o=r("tyNb"),i=r("8+Hl"),c=r("6/hD"),n=r("tLuA"),a=r("fXoL"),u=r("dvHm");let d=(()=>{class e{constructor(e,t,r){this.usersRequests=e,this.toastrService=t,this.router=r,this.redirectOnCancelRoute=i.e.viewAll}ngOnInit(){}onFormSubmission(e){this.usersRequests.createDoctor(e).subscribe(({body:e})=>{this.toastrService.successToastr("M\xe9dico creado",`M\xe9dico ${e.firstName} ${e.lastName} creado exitosamente`),this.router.navigate([i.e.viewAll])},e=>{this.toastrService.errorToastr(e.error.error)})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(c.a),a.Mb(n.a),a.Mb(o.c))},e.\u0275cmp=a.Gb({type:e,selectors:[["ngx-doctor-creation"]],decls:1,vars:1,consts:[["formTitle","Nuevo m\xe9dico",3,"redirectOnCancelRoute","userCreation"]],template:function(e,t){1&e&&(a.Sb(0,"ngx-user-form",0),a.Zb("userCreation",(function(e){return t.onFormSubmission(e)})),a.Rb()),2&e&&a.hc("redirectOnCancelRoute",t.redirectOnCancelRoute)},directives:[u.a],styles:[""]}),e})();var l=r("eIep");function b(e,t){if(1&e){const e=a.Tb();a.Sb(0,"ngx-user-form",2),a.Zb("userCreation",(function(t){return a.pc(e),a.bc().onFormSubmission(t)}))("userDeletion",(function(t){return a.pc(e),a.bc().onDoctorDeletion(t)})),a.Rb()}if(2&e){const e=a.bc();a.hc("passwordRequired",!1)("user",e.doctor)("redirectOnCancelRoute",e.redirectOnCancelRoute)}}function m(e,t){1&e&&(a.Sb(0,"nb-card",3),a.Sb(1,"nb-card-body"),a.yc(2," Cargando usuario... "),a.Rb(),a.Rb())}let h=(()=>{class e{constructor(e,t,r,s){this.activatedRoute=e,this.router=t,this.usersRequestsService=r,this.toastrService=s,this.redirectOnCancelRoute=i.e.viewAll}ngOnInit(){this.activatedRoute.params.pipe(Object(l.a)(({id:e})=>this.usersRequestsService.getDoctorById(e))).subscribe(e=>{this.doctor=e.body},e=>{this.router.navigate([i.e.viewAll])})}onFormSubmission(e){this.usersRequestsService.modifyUser(e).subscribe(e=>{this.toastrService.successToastr("M\xe9dico modificado","M\xe9dico modificado exitosamente"),this.router.navigate([i.e.viewAll])},e=>{this.toastrService.errorToastr("Acci\xf3n no permitida")})}onDoctorDeletion(e){this.usersRequestsService.deleteDoctor(e).subscribe(e=>{this.toastrService.successToastr("M\xe9dico eliminado","M\xe9dico eliminado exitosamente"),this.router.navigate([i.e.viewAll])},e=>{this.toastrService.errorToastr("Acci\xf3n no permitida")})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.a),a.Mb(o.c),a.Mb(c.a),a.Mb(n.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ngx-doctor-inspection"]],decls:3,vars:2,consts:[["formTitle","Editar m\xe9dico","confirmationButtonMessage","Editar",3,"passwordRequired","user","redirectOnCancelRoute","userCreation","userDeletion",4,"ngIf","ngIfElse"],["loaderDiv",""],["formTitle","Editar m\xe9dico","confirmationButtonMessage","Editar",3,"passwordRequired","user","redirectOnCancelRoute","userCreation","userDeletion"],["nbSpinner","true","nbSpinnerSize","large","nbSpinnerStatus","primary"]],template:function(e,t){if(1&e&&(a.wc(0,b,1,3,"ngx-user-form",0),a.wc(1,m,3,0,"ng-template",null,1,a.xc)),2&e){const e=a.nc(2);a.hc("ngIf",t.doctor)("ngIfElse",e)}},directives:[s.m,u.a],styles:[""]}),e})();var v=r("0YGb"),f=r("b7PT");const p=[{path:"",children:[{path:"register",component:d},{path:"view-all-doctors",component:(()=>{class e{constructor(e,t){this.toasterService=e,this.userRequests=t,this.doctorsBaseRoute=i.e.main}ngOnInit(){this.userRequests.listDoctors().subscribe(e=>{this.doctorsList=e.body},e=>{this.toasterService.errorToastr(e.error.error)})}onNameSearch(e){this.userRequests.listDoctors(e).subscribe(e=>{this.doctorsList=e.body},e=>{this.toasterService.errorToastr("B\xfasqueda inv\xe1lida")})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(n.a),a.Mb(c.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ngx-doctors-list"]],decls:6,vars:2,consts:[[1,"row"],[1,"offset-lg-1","col-lg-10"],[3,"queryParam"],["cardTitle","Lista de m\xe9dicos",3,"users","baseRoute"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"ngx-filter-bar",2),a.Zb("queryParam",(function(e){return t.onNameSearch(e)})),a.Rb(),a.Rb(),a.Rb(),a.Sb(3,"div",0),a.Sb(4,"div",1),a.Nb(5,"ngx-users-cards",3),a.Rb(),a.Rb()),2&e&&(a.Bb(5),a.hc("users",t.doctorsList)("baseRoute",t.doctorsBaseRoute))},directives:[v.a,f.a],styles:[""]}),e})()},{path:":id",component:h},{path:"**",redirectTo:"view-all-doctors"}]}];let R=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(p)],o.g]}),e})();var S=r("UJ0D");let g=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[s.c,R,S.ProtectedModule]]}),e})()}}]);