(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[45],{632:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(634);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(l){n=!0,c=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw c}}return r}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},709:function(e,t,r){"use strict";r.r(t);var a=r(167),n=r(14),c=r(70),s=r.n(c),o=r(115),l=r(632),i=r(633),u=r(630),b=r(1),j=r.n(b),d=r(116),m=r(639),h=r(69),O=r(19);t.default=function(e){var t=e.match,r=e.history,c=Object(h.c)((function(e){return e.auth})).id,f=Object(b.useState)(""),p=Object(l.a)(f,2),x=p[0],N=p[1],w=Object(b.useState)(!1),C=Object(l.a)(w,2),y=C[0],g=C[1],v=Object(b.useState)(!1),k=Object(l.a)(v,2),E=k[0],T=k[1],A=Object(b.useState)({}),S=Object(l.a)(A,2),L=S[0],F=S[1],V=Object(b.useState)({}),I=Object(l.a)(V,2),R=I[0],D=I[1],U=t.params.id;Object(b.useEffect)((function(){var e=new AbortController;return function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(d.a)("users/admins/".concat(U)).then((function(e){return e.json()})).then((function(e){F(e.body),D(e.body)})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return e.abort()}}),[U]);var z=function(e){var t=e.target;F(Object(n.a)(Object(n.a)({},L),{},Object(a.a)({},t.name,t.value)))},B=function(){var e=Object(o.a)(s.a.mark((function e(){var t,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.password!==L.password2&&(N("Las contrase\xf1as deben de ser iguales"),1)){e.next=15;break}return e.next=3,Object(d.a)("users/".concat(U),Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},L.email&&{email:L.email}),L.firstName&&{firstName:L.firstName}),L.lastName&&{lastName:L.lastName}),L.mobileNumber&&{mobileNumber:L.mobileNumber}),L.password&&{password:L.password}),L.username&&{username:L.username}),"PUT");case 3:if(204!==(t=e.sent).status){e.next=9;break}N(""),g(!0),e.next=15;break;case 9:return e.next=11,t.json();case 11:return r=e.sent,a=r.error,N(a),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("users/admins/".concat(U),{},"DELETE");case 2:return 204===e.sent.status&&(T(!1),r.push("/admins/view-all-admins")),T(!1),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(j.a.Fragment,{children:[Object(O.jsxs)(u.xb,{children:[Object(O.jsx)(u.v,{xs:"12",sm:"12",md:"5",children:Object(O.jsxs)(u.j,{color:"gradient-secondary",children:[Object(O.jsx)(u.k,{className:"text-center",children:Object(O.jsx)(u.S,{src:L.imageUrl?L.imageUrl:m.a,shape:"rounded-circle",fluid:!0,width:"200px",align:"center"})}),Object(O.jsxs)(u.k,{color:"light",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Nombres: "}),R.firstName]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Apellidos: "}),R.lastName]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Correo: "}),R.email]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Nombre de usuario: "}),R.username]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Celular: "}),R.mobileNumber]})]})]})}),Object(O.jsxs)(u.v,{xs:"12",sm:"12",md:"7",children:[x&&Object(O.jsx)(u.a,{color:"danger",children:x}),Object(O.jsxs)(u.j,{children:[Object(O.jsx)(u.n,{children:Object(O.jsx)("small",{children:"EDITAR ADMINISTRADOR"})}),Object(O.jsxs)(u.k,{children:[Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"firstName",children:"Nombres"}),Object(O.jsx)(u.T,{name:"firstName",placeholder:"Nombres",defaultValue:L.firstName,onChange:z,autoComplete:"off"})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"lastName",children:"Apellidos"}),Object(O.jsx)(u.T,{name:"lastName",placeholder:"Apellidos",defaultValue:L.lastName,onChange:z,autoComplete:"off"})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"email",children:"Correo"}),Object(O.jsx)(u.T,{name:"email",placeholder:"Correo",autoComplete:"off",defaultValue:L.email,onChange:z})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"username",children:"Nombre de usuario"}),Object(O.jsx)(u.T,{name:"username",placeholder:"Nombre de usuario",defaultValue:L.username,onChange:z,autoComplete:"off"})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"mobileNumber",children:"Celular"}),Object(O.jsx)(u.T,{name:"mobileNumber",placeholder:"Celular",type:"number",defaultValue:L.mobileNumber,onChange:z,autoComplete:"off"})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"country",children:"Contrase\xf1a"}),Object(O.jsx)(u.T,{type:"password",name:"password",placeholder:"Contrase\xf1a",autoComplete:"new-password",defaultValue:L.password,onChange:z}),Object(O.jsx)(u.M,{className:"help-block",children:"* La contrase\xf1a no es un campo necesario, se la puede dejar vac\xeda"})]}),Object(O.jsxs)(u.L,{children:[Object(O.jsx)(u.db,{htmlFor:"country",children:"Repita la contrase\xf1a"}),Object(O.jsx)(u.T,{type:"password",name:"password2",placeholder:"Repita la contrase\xf1a",autoComplete:"off",defaultValue:L.password2,onChange:z})]})]}),Object(O.jsxs)(u.l,{className:"text-center",children:[Object(O.jsxs)(u.f,{type:"submit",size:"md",color:"info",onClick:B,className:"mx-2",children:[Object(O.jsx)(i.a,{name:"cil-scrubber"})," Editar"]}),Object(O.jsxs)(u.f,{type:"reset",size:"md",color:"danger",className:"mx-2",onClick:function(){U!==c?T(!0):N("No puede eliminar su propia cuenta")},children:[Object(O.jsx)(i.a,{name:"cil-ban"})," Eliminar"]})]})]})]})]}),Object(O.jsxs)(u.hb,{show:y,onClose:function(){return g(!y)},color:"success",children:[Object(O.jsx)(u.kb,{closeButton:!0,children:Object(O.jsx)(u.lb,{children:"Administrador editado correctamente"})}),Object(O.jsx)(u.jb,{className:"text-center",children:Object(O.jsx)(u.f,{color:"success",onClick:function(){g(!y),r.push("/admins/view-all-admins")},children:"Cerrar"})})]}),Object(O.jsxs)(u.hb,{show:E,onClose:function(){return T(!E)},color:"danger",children:[Object(O.jsx)(u.kb,{closeButton:!0,children:Object(O.jsx)(u.lb,{children:"Eliminar Administrador"})}),Object(O.jsx)(u.ib,{children:"\xbfEst\xe1 seguro que desea continuar? Esta acci\xf3n es irreversible."}),Object(O.jsxs)(u.jb,{children:[Object(O.jsx)(u.f,{color:"danger",onClick:J,children:"Eliminar"})," ",Object(O.jsx)(u.f,{color:"secondary",onClick:function(){return T(!E)},children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=45.24c67cf1.chunk.js.map